<div class="content">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-12">
                <div class="row">
                    <div class="card strpied-tabled-with-hover col-5">
                    <div class="card-header ">
                        <div class="row">
                            <div class="col-9">
                                <h4 class="card-title">CATEGORY</h4>
                            </div>
                            <div class="col-3">
                                <form action="/admin/themkhoahoc/addcategory" method="POST" enctype="multipart/form-data">
                                    <div class="modal fade" id="modalLoginForm" tabindex="-1" role="dialog"
                                        aria-labelledby="myModalLabel" aria-hidden="true">
                                        <div class="modal-dialog" role="document">
                                            <div class="modal-content">
                                                <div class="modal-header text-center">
                                                    <h4 class="modal-title w-100 font-weight-bold">Thêm Category</h4>
                                                    <button type="button" class="close" data-dismiss="modal"
                                                        aria-label="Close">
                                                        <span aria-hidden="true">&times;</span>
                                                    </button>
                                                </div>
                                                <div class="modal-body mx-3">
                                                    <div class="md-form mb-5">
                                                        <label data-error="wrong" data-success="right"
                                                            for="defaultForm-email">Tên Category</label>
                                                        <input type="text" name="name" id="name"
                                                            class="form-control validate">
                                                        
                                                    </div>
                                                    <div class="form-group">
                                                        <input type="file" class="form-control" id="avatar" name="avatar" >	
                                                    </div>
                                                </div>
                                                <div class="modal-footer d-flex justify-content-center">
                                                    <button type="submit" value="submit" class="btn btn-default">Thêm</button>
                                                </div>
                                            </div>
                                             
                                        </div>
                                    </div>
                                </form>
                                <div class="text-center">
                                    <a href="" class="btn btn-default btn-rounded mb-4" data-toggle="modal"
                                        data-target="#modalLoginForm">Create</a>
                                </div>
                            </div>
                        </div>

                        <p class="card-category">Here is a subtitle for this table</p>
                    </div>
                    <div class="card-body table-full-width table-responsive ">

                        <table class="table table-hover">
                            <thead>
                                <th>ID</th>
                                <th>Name</th>
                            </thead>
                            <tbody>
                            {{#each Category}}
                                
                                <tr>
                                    <td>{{id}}</td>
                                    <td><a class="text-dark" href="?categoryid={{id}}&topicid=0">{{name}}</a></td>
                                    {{!-- <td>
                                        <div class="modal fade" id="addkh{{id" tabindex="-1" role="dialog"
                                            aria-labelledby="myModalLabel" aria-hidden="true">
                                            <div class="modal-dialog" role="document">
                                                <form action="/admin/themkhoahoc/addkhoahoc" method="POST"
                                                    enctype="multipart/form-data">
                                                    <div class="modal-content">
                                                        <div class="modal-header text-center">
                                                            <h4 class="modal-title w-100 font-weight-bold">Thêm Topic của
                                                                {{../name
                                                            </h4>

                                                            <button type="button" class="close" data-dismiss="modal"
                                                                aria-label="Close">
                                                                <span aria-hidden="true">&times;</span>
                                                            </button>
                                                        </div>
                                                        <div class="modal-body mx-3">
                                                            <div class="md-form md-5">
                                                                <label data-error="wrong" data-success="right"
                                                                    for="orangeForm-name">Tên topic</label>
                                                                <input type="text" name="name"
                                                                    class="form-control validate">
                                                            </div>
                                                            <input type="hidden" id="categoryid" name="categoryid"
                                                                value="{{../id">
                                                        </div>
                                                        <div class="modal-footer d-flex justify-content-center">
                                                            <button type="submit"
                                                                class="btn btn-deep-orange">THÊM</button>
                                                        </div>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>

                                        <div class="text-center">
                                             <a href="" class="btn btn-default btn-rounded mb-4" data-toggle="modal"
                                                data-target="#modalRegisterForm"></a> 
                                            <i class="fa fa-plus" data-toggle="modal" data-target="#addkh{{../id"
                                                aria-hidden="true"></i>
                                        </div>
                                    </td> --}}
                                    <td>
                                        <form method="post" action="/admin/courses/delete/category/{{id}}">
                                                <button type="submit" class="btn btn-outline-danger" title="Delete">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash-fill" viewBox="0 0 16 16">
                                                        <path d="M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"/>
                                                    </svg> 
                                                </button>
                                            </form>
                                    </td>
                                </tr>
                                
                            {{/each}}
                                
                            </tbody>
                        </table>

                    </div>
                    </div>

                    <div class="card strpied-tabled-with-hover col-5" style="margin-left: 80px;">
                    <div class="card-header ">
                        <div class="row">
                            <div class="col-9">
                                <h4 class="card-title">TOPIC</h4>
                            </div>
                            <div class="col-3">
                                <form action="/admin/themkhoahoc/addtopic" method="post">
                                    <div class="modal fade" id="modalLoginForm1" tabindex="-1" role="dialog"
                                        aria-labelledby="myModalLabel" aria-hidden="true">
                                        <div class="modal-dialog" role="document">
                                            <div class="modal-content">
                                                <div class="modal-header text-center">
                                                    <h4 class="modal-title w-100 font-weight-bold">Thêm Topic</h4>
                                                    <button type="button" class="close" data-dismiss="modal"
                                                        aria-label="Close">
                                                        <span aria-hidden="true">&times;</span>
                                                    </button>
                                                </div>
                                                <div class="modal-body mx-3">
                                                    <div class="md-form mb-5">
                                                        <label data-error="wrong" data-success="right"
                                                            for="defaultForm-email">Tên Topic</label>
                                                        <input type="text" name="name" id="name"
                                                            class="form-control validate">
                                                    </div>
                                                    <div class="form-group">
                                                        <input type="file" class="form-control" id="image" name="image" >	
                                                    </div>
                                                    <div class="md-form md-5">
                                                        <div class="form-group">
                                                            <label for="giaovien">CATEGORY</label>
                                                            <select class="form-control" name="topic"
                                                                id="topic">
                                                                {{#each Category}}
                                                                <option value="{{id}}">{{name}}</option>
                                                                {{/each}}
                                                            </select>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="modal-footer d-flex justify-content-center">
                                                    <button type="submit" class="btn btn-default">Thêm</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                                <div class="text-center">
                                    <a href="" class="btn btn-default btn-rounded mb-4" data-toggle="modal"
                                        data-target="#modalLoginForm1">Create</a>
                                </div>
                            </div>
                        </div>

                        <p class="card-category">Here is a subtitle for this table</p>
                    </div>
                    <div class="card-body table-full-width table-responsive ">

                        <table class="table table-hover">
                            <thead>
                                <th>ID</th>
                                <th>Name</th>
                            </thead>
                            <tbody>
                                {{!-- {{#each Category}} --}}
                                {{#each Topic}}
                                <tr>
                                    <td>{{id}}</td>
                                    <td><a class="text-dark" href="?categoryid={{Category.id}}&topicid={{id}}">{{name}}</a></td>
                                    <td>
                                        <div class="modal fade" id="addkh{{id}}" tabindex="-1" role="dialog"
                                            aria-labelledby="myModalLabel" aria-hidden="true">
                                            <div class="modal-dialog" role="document">
                                                <form name="AddCourseForm" action="/admin/themkhoahoc/addkhoahoc" onsubmit ="return validateForm()" method="POST"
                                                    enctype="multipart/form-data">
                                                    <div class="modal-content">
                                                        <div class="modal-header text-center">
                                                            <h4 class="modal-title w-100 font-weight-bold">Thêm Khoá học của
                                                                {{name}}
                                                            </h4>

                                                            <button type="button" class="close" data-dismiss="modal"
                                                                aria-label="Close">
                                                                <span aria-hidden="true">&times;</span>
                                                            </button>
                                                        </div>
                                                        <div class="modal-body mx-3">
                                                            <div class="md-form md-5">
                                                                <label data-error="wrong" data-success="right"
                                                                    for="orangeForm-name">Tên khoá học</label>
                                                                <input type="text" id="name" name="name"
                                                                    class="form-control validate">
                                                            </div>
                                                            <div class="md-form md-5">
                                                                <label data-error="wrong" data-success="right"
                                                                    for="orangeForm-email">GIÁ</label>
                                                                <input type="text" id="gia" name="gia"
                                                                    class="form-control validate">
                                                            </div>
                                                            <div class="md-form md-5">
                                                                <label data-error="wrong" data-success="right"
                                                                    for="orangeForm-email">GIÁ KHUYẾN MÃI</label>
                                                                <input type="text" id="giakm"name="giakm"
                                                                    class="form-control validate">
                                                            </div>
                                                            <div class="md-form md-5">

                                                                <div class="form-group">
                                                                    <label for="giaovien">GIÁO
                                                                        VIÊN</label>
                                                                    <select class="form-control" name="teacher"
                                                                        id="teacher">
                                                                        {{#each ../teacher}}
                                                                        <option value="{{id}}">{{fullname}}</option>
                                                                        {{/each}}
                                                                    </select>
                                                                </div>
                                                            </div>
                                                            <div class="md-form md-5">
                                                                <label data-error="wrong" data-success="right"
                                                                    for="orangeForm-email">CHI TIẾT</label>
                                                                <input type="text" id="chitiet" name="chitiet"
                                                                    class="form-control validate">
                                                            </div>
                                                            <div class="md-form md-5">
                                                                <label data-error="wrong" data-success="right"
                                                                    for="orangeForm-email">TỔNG QUAN</label>
                                                                <textarea id="tongquan" name="tongquan"
                                                                    class="md-textarea form-control"
                                                                    rows="5"></textarea>
                                                            </div>
                                                            <div class="form-group">
                                                                <input type="file" name="avatar"
                                                                    class="input-group input-file" />
                                                            </div>
                                                            <input type="hidden" id="topicid" name="topicid"
                                                                value="{{id}}">
                                                            <input type="hidden" id="categoryid" name="categoryid"
                                                            value="{{Category.id}}">
                                                        </div>
                                                        <div class="modal-footer d-flex justify-content-center">
                                                            <button type="submit"
                                                                class="btn btn-deep-orange">THÊM</button>
                                                        </div>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>

                                        <div class="text-center">
                                            {{!-- <a href="" class="btn btn-default btn-rounded mb-4" data-toggle="modal"
                                                data-target="#modalRegisterForm"></a> --}}
                                            <i class="fa fa-plus" data-toggle="modal" data-target="#addkh{{id}}"
                                                aria-hidden="true"></i>
                                        </div>
                                    </td>
                                    <td>
                                        <form method="post" action="/admin/courses/delete/topic/{{id}}">
                                                <button type="submit" class="btn btn-outline-danger" title="Delete">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash-fill" viewBox="0 0 16 16">
                                                        <path d="M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"/>
                                                    </svg> 
                                                </button>
                                            </form>
                                    </td>
                                </tr>
                                {{/each}}
                            </tbody>
                        </table>

                    </div>
                    </div>
                </div>
            </div>
            <div class="col-md-12">
                <div class="card card-plain table-plain-bg">
                    <div class="card-header ">
                        <h4 class="card-title">KHOÁ HỌC</h4>
                        <p class="card-category">Here is a subtitle for this table</p>
                    </div>

                    <div class="card-body table-full-width table-responsive">
                        <table class="table table-hover table-striped">
                            <thead>
                                <th></th>
                                <th>ID</th>
                                <th>Tên khoá học</th>
                                <th>Giá</th>
                                <th>Giáo Viên</th>
                                <th>Đình chỉ</th>
                                <th></th>
                                <th></th>
                            </thead>
                            <tbody>
                                {{#each Product}}
                                <tr>
                                    <td> <a href="?categoryid={{categoryId}}&topicid={{topicId}}"><img
                                                src="{{imagepath}}" width="70" height="70"></a> </td>
                                    <td>{{id}}</td>
                                    <td class="admin_hiden">{{name}}</td>
                                    <td>{{price}}</td>
                                    <td>{{Teacher.fullname}}</td>
                                    <td>{{lockcourse}}</td>
                                    <td>
                                        <form method="post" action="/admin/courses/delete/product/{{id}}">
                                                <button type="submit" class="btn btn-outline-danger" title="Delete">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash-fill" viewBox="0 0 16 16">
                                                        <path d="M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"/>
                                                    </svg> 
                                                </button>
                                        </form>
                                    </td>
                                    <td>
                                        {{#if lockcourse}}
                                        <form method="post" action="/admin/courses/update/unlock_course/{{id}}"
                                            enctype="multipart/form-data">
                                            <button  class="btn btn-danger btn-simple btn-link" id="unlock" type="submit" rel="tooltip" title="Unlock" >
                                                <a class="fa fa-lock"></a>
                                            </button>
                                        </form>
                                        {{else}}
                                        <form method="post" action="/admin/courses/update/lock_course/{{id}}"
                                            enctype="multipart/form-data">
                                            <button  class="btn btn-danger btn-simple btn-link" id="lock" type="submit" rel="tooltip" title="Lock" >
                                                <a class="fa fa-unlock"></a>
                                            </button>
                                        </form>
                                        {{/if}}
                                    </td>
                                </tr>
                                {{/each}}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>


<script>
	function validateForm(){
		var x = document.forms["AddCourseForm"]["name"].value;
		var y = document.forms["AddCourseForm"]["gia"].value;
		var z = document.forms["AddCourseForm"]["chitiet"].value;
		var t = document.forms["AddCourseForm"]["tongquan"].value;

		if(x == "" || y == "" || z == "" || t == ""){
			alert("Vui lòng điền đầy đủ thông tin !");
			return false;
		}
		else if(y < 100){
			alert("Vui lòng ghi giá nhỏ hơn 100$ !");
			return false;
		}
		else{
			return true;
		}
	}
</script>